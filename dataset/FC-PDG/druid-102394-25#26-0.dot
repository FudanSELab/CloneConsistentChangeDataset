digraph {
7 [style = filled, label = "JsonConfigProvider.bind(binder,\"druid.indexer.task\",)@@@4@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
0 [style = filled, label = "JsonConfigProvider.bind(binder,\"druid.peon.taskActionClient.retry\",)@@@6@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
9 [style = filled, label = "configureTaskActionClient(binder)@@@7@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
10 [style = filled, label = "binder.bind(new TypeLiteral<IndexTaskClientFactory<ParallelIndexSupervisorTaskClient>>(){}).to().in()@@@9@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
14 [style = filled, label = "final boolean standalone@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
4 [style = filled, label = "binder.bind().in()@@@12@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
11 [style = filled, label = "bindTaskConfigAndClients['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
3 [style = filled, label = "JsonConfigProvider.bind(binder,\"druid.indexer.auditlog\",)@@@5@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
8 [style = filled, label = "bindTaskConfigAndClients['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
2 [style = filled, label = "binder.bind().in()@@@3@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
13 [style = filled, label = "getModules['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
6 [style = filled, label = "Binder binder@@@2@@@['1', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
12 [style = filled, label = "return ImmutableList.of(new Module(){@Override public void configure(Binder binder){if (standalone) {binder.bindConstant().annotatedWith(Names.named(\"serviceName\")).to(IndexingServiceSelectorConfig.DEFAULT_SERVICE_NAME)binder.bindConstant().annotatedWith(Names.named(\"servicePort\")).to(8090)binder.bindConstant().annotatedWith(Names.named(\"tlsServicePort\")).to(8290)}JsonConfigProvider.bind(binder,\"druid.coordinator.asOverlord\",)JsonConfigProvider.bind(binder,\"druid.indexer.queue\",)JsonConfigProvider.bind(binder,\"druid.indexer.tasklock\",)JsonConfigProvider.bind(binder,\"druid.indexer.task\",)JsonConfigProvider.bind(binder,\"druid.indexer.task.default\",)JsonConfigProvider.bind(binder,\"druid.indexer.auditlog\",)binder.bind().in()binder.bind().to()binder.bind().to()binder.bind().to().in()binder.bind(new TypeLiteral<List<TaskLogStreamer>>(){}).toProvider(new ListProvider<TaskLogStreamer>().add().add()).in()binder.bind().to().in()binder.bind().in()binder.bind().in()binder.bind().in()binder.bind().in()binder.bind().in()binder.bind().to().in()binder.bind(new TypeLiteral<IndexTaskClientFactory<ParallelIndexSupervisorTaskClient>>(){}).toProvider(Providers.of(null))binder.bind().toProvider(Providers.of(null))binder.bind().toProvider(Providers.of(new NoopChatHandlerProvider()))PolyBind.createChoice(binder,\"druid.indexer.task.rowIngestionMeters.type\",Key.get(),Key.get())final MapBinder<String,RowIngestionMetersFactory> rowIngestionMetersHandlerProviderBinder = PolyBind.optionBinder(binder,Key.get())rowIngestionMetersHandlerProviderBinder.addBinding(\"dropwizard\").to().in()binder.bind().in()configureTaskStorage(binder)configureAutoscale(binder)configureRunners(binder)configureOverlordHelpers(binder)binder.bind().toProvider().in()if (standalone) {binder.bind().in()binder.bind().to().in()binder.bind().to().in()}Jerseys.addResource(binder,)Jerseys.addResource(binder,)Jerseys.addResource(binder,)binder.bind().to().in()if (standalone) {LifecycleModule.register(binder,)}bindNodeRoleAndAnnouncer(binder,,DiscoverySideEffectsProvider.builder(NodeRole.OVERLORD).build())Jerseys.addResource(binder,)LifecycleModule.registerKey(binder,Key.get())}private void configureTaskStorage(Binder binder){JsonConfigProvider.bind(binder,\"druid.indexer.storage\",)PolyBind.createChoice(binder,\"druid.indexer.storage.type\",Key.get(),Key.get())final MapBinder<String,TaskStorage> storageBinder = PolyBind.optionBinder(binder,Key.get())storageBinder.addBinding(\"local\").to()binder.bind().in()storageBinder.addBinding(\"metadata\").to().in()binder.bind().in()}private void configureRunners(Binder binder){JsonConfigProvider.bind(binder,\"druid.worker\",)PolyBind.createChoice(binder,\"druid.indexer.runner.type\",Key.get(),Key.get())final MapBinder<String,TaskRunnerFactory> biddy = PolyBind.optionBinder(binder,Key.get())IndexingServiceModuleHelper.configureTaskRunnerConfigs(binder)biddy.addBinding(\"local\").to()binder.bind().in()biddy.addBinding(RemoteTaskRunnerFactory.TYPE_NAME).to().in()binder.bind().in()biddy.addBinding(HttpRemoteTaskRunnerFactory.TYPE_NAME).to().in()binder.bind().in()JacksonConfigProvider.bind(binder,WorkerBehaviorConfig.CONFIG_KEY,,null)}private void configureAutoscale(Binder binder){JsonConfigProvider.bind(binder,\"druid.indexer.autoscale\",)JsonConfigProvider.bind(binder,\"druid.indexer.autoscale\",)JsonConfigProvider.bind(binder,\"druid.indexer.autoscale\",)PolyBind.createChoice(binder,\"druid.indexer.autoscale.strategy.type\",Key.get(),Key.get())final MapBinder<String,ProvisioningStrategy> biddy = PolyBind.optionBinder(binder,Key.get())biddy.addBinding(\"simple\").to()biddy.addBinding(\"pendingTaskBased\").to()}private void configureOverlordHelpers(Binder binder){JsonConfigProvider.bind(binder,\"druid.indexer.logs.kill\",)Multibinder.newSetBinder(binder,).addBinding().to()}},new IndexingServiceFirehoseModule(),new IndexingServiceInputSourceModule(),new IndexingServiceTaskLogsModule(),new IndexingServiceTuningConfigModule(),new InputSourceModule(),new SupervisorModule(),new LookupSerdeModule(),new SamplerModule())@@@3@@@['0', '0', '1']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB3BBB"];
1 [style = filled, label = "binder.bind().to().in()@@@8@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
5 [style = filled, label = "binder.bind().to().in()@@@9@@@['1', '0', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB1BBB"];
1->5 [style = bold, label=""];
5->10 [style = bold, label=""];
6->0 [style = solid, label="binder"];
0->9 [style = bold, label=""];
6->9 [style = solid, label="binder"];
13->12 [style = bold, label=""];
2->7 [style = bold, label=""];
8->6 [style = dotted, label="true"];
9->1 [style = bold, label=""];
14->12 [style = solid, label="standalone"];
6->3 [style = solid, label="binder"];
8->2 [style = bold, label=""];
1->10 [style = bold, label=""];
13->14 [style = dotted, label="true"];
11->6 [style = dotted, label="true"];
11->2 [style = bold, label=""];
7->3 [style = bold, label=""];
3->0 [style = bold, label=""];
6->7 [style = solid, label="binder"];
10->4 [style = bold, label=""];
}
