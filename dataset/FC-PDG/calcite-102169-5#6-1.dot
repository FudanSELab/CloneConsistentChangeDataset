digraph {
13 [style = filled, label = "flattenProjection(shuttle,firstOp,fieldName + \"$0\",firstOpFlattenedExps)@@@52@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
42 [style = filled, label = "flattenProjections(shuttle,call.getOperands(),Collections.nCopies(call.getOperands().size(),null),fieldName,flattenedExps)@@@21@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
34 [style = filled, label = "i++@@@57@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
39 [style = filled, label = "String fieldName@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
30 [style = filled, label = "isConstructor(exp) || exp.isA(SqlKind.CAST)@@@15@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
32 [style = filled, label = "flattenNullLiteral(exp.getType(),flattenedExps)@@@18@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
1 [style = filled, label = "Ord<RelDataType> newField = getNewFieldForOldInput(oldOrdinal,newInnerOrdinal)@@@39@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
22 [style = filled, label = "List<Pair<RexNode,String>> firstOpFlattenedExps = new ArrayList<>()@@@51@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
12 [style = filled, label = "int from = 0@@@31@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
53 [style = filled, label = "exp instanceof RexInputRef@@@4@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
0 [style = filled, label = "List<RexNode> operands = ((RexCall)exp).getOperands()@@@25@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
26 [style = filled, label = "int newInnerOrdinal = from@@@36@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
67 [style = filled, label = "return newInnerOrdinal@@@12@@@['0', '0', '1']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB3BBB"];
4 [style = filled, label = "SqlOperator operator = ((RexCall)exp).getOperator()@@@26@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
59 [style = filled, label = "RexNode exp@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
35 [style = filled, label = "firstOp.getType().getFieldList()@@@32@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
44 [style = filled, label = "flattenResultTypeOfRexCall(newExp,fieldName,flattenedExps)@@@64@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
2 [style = filled, label = "exp.getType().isStruct()@@@3@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
8 [style = filled, label = "throw Util.needToImplement(exp)@@@68@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
46 [style = filled, label = "innerOrdinal < flattenFieldsCount@@@8@@@['1', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
54 [style = filled, label = "i < endOfRange@@@56@@@['1', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
62 [style = filled, label = "String literalString@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
64 [style = filled, label = "RexNode firstOp@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
28 [style = filled, label = "int oldOrdinal = ((RexInputRef)firstOp).getIndex()@@@34@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
9 [style = filled, label = "RexCall call = (RexCall)exp@@@16@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
50 [style = filled, label = "int to = from + postFlattenSize(field.getType())@@@35@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
25 [style = filled, label = "newExp = rexBuilder.makeCall(exp.getType(),operator,shuttle.visitList(operands))@@@63@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
15 [style = filled, label = "RexNode firstOp = operands.get(0)@@@29@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
3 [style = filled, label = "flattenedExps.add(Pair.of(newRef,fieldName))@@@12@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
33 [style = filled, label = "Ord<RelDataType> newField = getNewFieldForOldInput(oldOrdinal,innerOrdinal)@@@10@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
48 [style = filled, label = "int newInnerOrdinal = getNewInnerOrdinal(firstOp,literalString)@@@53@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
17 [style = filled, label = "String literalString = ((RexLiteral)operands.get(1)).getValueAs()@@@28@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
43 [style = filled, label = "final int flattenFieldsCount = postFlattenSize(exp.getType())@@@6@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
14 [style = filled, label = "operator == SqlStdOperatorTable.ITEM && operands.get(0).getType().isStruct() && operands.get(1).isA(SqlKind.LITERAL) && SqlTypeUtil.inCharFamily(operands.get(1).getType())@@@27@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
21 [style = filled, label = "int i = newInnerOrdinal@@@55@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
6 [style = filled, label = "int endOfRange = newInnerOrdinal + postFlattenSize(newExp.getType())@@@54@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
37 [style = filled, label = "flattenProjection['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
49 [style = filled, label = "flattenedExps.add(Pair.of(exp.accept(shuttle),fieldName))@@@72@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
52 [style = filled, label = "exp instanceof RexCall@@@23@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
57 [style = filled, label = "List<Pair<RexNode,String>> flattenedExps@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
10 [style = filled, label = "flattenedExps.add(Pair.of(newRef,fieldName))@@@41@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
36 [style = filled, label = "newInnerOrdinal++@@@38@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
7 [style = filled, label = "RexNode exp@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
19 [style = filled, label = "return@@@19@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
65 [style = filled, label = "getNewInnerOrdinal['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
18 [style = filled, label = "newInnerOrdinal < to@@@37@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
56 [style = filled, label = "RelDataTypeField field@@@32@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
16 [style = filled, label = "RexInputRef newRef = new RexInputRef(newField.i,newField.e)@@@11@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
66 [style = filled, label = "literalString.equalsIgnoreCase(field.getName())@@@5@@@['0', '0', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB3BBB"];
5 [style = filled, label = "RexNode newExp = exp@@@24@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
27 [style = filled, label = "List<Pair<RexNode,String>> flattenedExps@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
47 [style = filled, label = "firstOp instanceof RexCall@@@50@@@['1', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
58 [style = filled, label = "field.getName().equalsIgnoreCase(literalString)@@@33@@@['0', '1', '0']", fillcolor = red, shape = diamond image = "AAA1AAABBB2BBB"];
63 [style = filled, label = "int newInnerOrdinal = 0@@@3@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
38 [style = filled, label = "from += postFlattenSize(field.getType())@@@46@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
51 [style = filled, label = "RexInputRef newRef = rexBuilder.makeInputRef(newField.e,newField.i)@@@40@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
60 [style = filled, label = "RewriteRexShuttle shuttle@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
40 [style = filled, label = "firstOp instanceof RexInputRef@@@30@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
41 [style = filled, label = "String fieldName@@@2@@@['1', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
29 [style = filled, label = "literalString.equalsIgnoreCase(field.getName())@@@33@@@['1', '0', '0']", fillcolor = red, shape = diamond image = "AAA1AAABBB1BBB"];
61 [style = filled, label = "newInnerOrdinal += postFlattenSize(field.getType())@@@9@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
23 [style = filled, label = "final int oldOrdinal = ((RexInputRef)exp).getIndex()@@@5@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
11 [style = filled, label = "int innerOrdinal = 0@@@7@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
20 [style = filled, label = "flattenedExps.add(firstOpFlattenedExps.get(i))@@@58@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
31 [style = filled, label = "innerOrdinal++@@@9@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
24 [style = filled, label = "RelDataTypeField field@@@32@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
45 [style = filled, label = "exp.isA(SqlKind.CAST) && RexLiteral.isNullLiteral(call.operands.get(0))@@@17@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
55 [style = filled, label = "flattenProjection['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
58->28 [style = bold, label=""];
12->26 [style = solid, label="from"];
57->44 [style = solid, label="flattenedExps"];
53->46 [style = dotted, label="true"];
41->10 [style = solid, label="fieldName"];
52->8 [style = bold, label=""];
14->25 [style = bold, label=""];
61->66 [style = bold, label=""];
65->64 [style = dotted, label="true"];
38->50 [style = solid, label="from"];
38->61 [style = dashed, label="0"];
30->52 [style = bold, label=""];
28->50 [style = bold, label=""];
31->33 [style = solid, label="innerOrdinal"];
63->67 [style = solid, label="newInnerOrdinal"];
21->54 [style = bold, label=""];
55->2 [style = bold, label=""];
60->42 [style = solid, label="shuttle"];
14->17 [style = bold, label=""];
48->6 [style = solid, label="newInnerOrdinal"];
11->46 [style = bold, label=""];
60->49 [style = solid, label="shuttle"];
7->30 [style = solid, label="exp"];
51->10 [style = bold, label=""];
29->26 [style = dotted, label="true"];
25->44 [style = bold, label=""];
65->62 [style = dotted, label="true"];
47->22 [style = bold, label=""];
34->54 [style = solid, label="i"];
2->53 [style = bold, label=""];
63->66 [style = bold, label=""];
41->13 [style = solid, label="shuttle"];
17->48 [style = solid, label="literalString"];
5->0 [style = bold, label=""];
2->49 [style = bold, label=""];
40->47 [style = bold, label=""];
36->18 [style = bold, label=""];
41->44 [style = solid, label="fieldName"];
61->67 [style = solid, label="newInnerOrdinal"];
45->42 [style = bold, label=""];
15->40 [style = solid, label="firstOp"];
59->53 [style = solid, label="exp"];
47->54 [style = dotted, label="true"];
31->46 [style = bold, label=""];
53->43 [style = dotted, label="true"];
39->13 [style = solid, label="fieldName"];
40->56 [style = dotted, label="true"];
41->42 [style = solid, label="fieldName"];
45->32 [style = dotted, label="true"];
22->13 [style = bold, label=""];
52->8 [style = dotted, label="false"];
2->53 [style = dotted, label="true"];
16->3 [style = bold, label=""];
27->32 [style = solid, label="flattenedExps"];
19->42 [style = bold, label=""];
29->18 [style = dotted, label="true"];
33->16 [style = bold, label=""];
55->59 [style = dotted, label="true"];
29->58 [style = dashed, label="0"];
37->7 [style = dotted, label="true"];
66->67 [style = bold, label=""];
20->34 [style = bold, label=""];
46->3 [style = dotted, label="true"];
46->31 [style = dotted, label="true"];
26->18 [style = solid, label="newInnerOrdinal"];
28->1 [style = solid, label="oldOrdinal"];
34->54 [style = bold, label=""];
53->30 [style = bold, label=""];
29->38 [style = dotted, label="false"];
39->3 [style = solid, label="fieldName"];
46->33 [style = dotted, label="true"];
66->61 [style = dotted, label="false"];
7->5 [style = solid, label="exp"];
40->35 [style = dotted, label="true"];
40->29 [style = dotted, label="true"];
43->11 [style = bold, label=""];
16->3 [style = solid, label="newRef"];
52->5 [style = bold, label=""];
39->44 [style = solid, label="fieldName"];
41->13 [style = solid, label="fieldName"];
46->16 [style = dotted, label="true"];
58->38 [style = dotted, label="false"];
12->29 [style = bold, label=""];
37->41 [style = dotted, label="true"];
18->1 [style = bold, label=""];
14->25 [style = dotted, label="false"];
59->8 [style = solid, label="exp"];
1->51 [style = bold, label=""];
29->50 [style = dotted, label="true"];
46->33 [style = bold, label=""];
17->15 [style = bold, label=""];
58->18 [style = dotted, label="true"];
11->31 [style = solid, label="innerOrdinal"];
30->9 [style = dotted, label="true"];
66->61 [style = bold, label=""];
29->38 [style = bold, label=""];
26->36 [style = solid, label="newInnerOrdinal"];
52->0 [style = dotted, label="true"];
53->30 [style = dotted, label="false"];
23->33 [style = solid, label="oldOrdinal"];
2->49 [style = dotted, label="false"];
30->45 [style = dotted, label="true"];
55->57 [style = dotted, label="true"];
54->34 [style = dotted, label="true"];
4->14 [style = bold, label=""];
30->42 [style = dotted, label="true"];
52->14 [style = dotted, label="true"];
47->48 [style = dotted, label="true"];
41->3 [style = solid, label="fieldName"];
6->21 [style = bold, label=""];
4->14 [style = solid, label="operator"];
18->36 [style = dotted, label="true"];
18->1 [style = dotted, label="true"];
23->43 [style = bold, label=""];
45->32 [style = bold, label=""];
4->25 [style = solid, label="operator"];
12->50 [style = solid, label="from"];
13->48 [style = bold, label=""];
30->9 [style = bold, label=""];
31->46 [style = solid, label="innerOrdinal"];
57->32 [style = solid, label="flattenedExps"];
25->44 [style = solid, label="newExp"];
32->19 [style = bold, label=""];
58->26 [style = dotted, label="true"];
7->8 [style = solid, label="exp"];
11->33 [style = solid, label="innerOrdinal"];
48->6 [style = bold, label=""];
40->47 [style = dotted, label="false"];
21->34 [style = solid, label="i"];
6->54 [style = solid, label="endOfRange"];
14->40 [style = dotted, label="true"];
18->10 [style = dotted, label="true"];
14->17 [style = dotted, label="true"];
58->28 [style = dotted, label="true"];
40->12 [style = bold, label=""];
58->38 [style = bold, label=""];
29->28 [style = dotted, label="true"];
47->22 [style = dotted, label="true"];
27->42 [style = solid, label="flattenedExps"];
45->19 [style = dotted, label="true"];
48->21 [style = solid, label="newInnerOrdinal"];
15->40 [style = bold, label=""];
53->23 [style = bold, label=""];
59->9 [style = solid, label="exp"];
47->21 [style = dotted, label="true"];
37->2 [style = bold, label=""];
15->13 [style = solid, label="firstOp"];
59->52 [style = solid, label="exp"];
37->27 [style = dotted, label="true"];
55->60 [style = dotted, label="true"];
40->58 [style = dotted, label="true"];
65->63 [style = bold, label=""];
53->23 [style = dotted, label="true"];
36->1 [style = solid, label="newInnerOrdinal"];
0->25 [style = solid, label="operands"];
26->1 [style = solid, label="newInnerOrdinal"];
61->67 [style = bold, label=""];
17->58 [style = solid, label="literalString"];
50->26 [style = bold, label=""];
3->31 [style = bold, label=""];
38->58 [style = bold, label=""];
41->49 [style = solid, label="fieldName"];
41->42 [style = solid, label="shuttle"];
59->5 [style = solid, label="exp"];
38->29 [style = bold, label=""];
11->46 [style = solid, label="innerOrdinal"];
40->24 [style = dotted, label="true"];
39->42 [style = solid, label="fieldName"];
21->20 [style = solid, label="i"];
38->26 [style = solid, label="from"];
54->20 [style = bold, label=""];
34->20 [style = solid, label="i"];
7->53 [style = solid, label="exp"];
59->30 [style = solid, label="exp"];
52->5 [style = dotted, label="true"];
39->49 [style = solid, label="fieldName"];
22->13 [style = solid, label="firstOpFlattenedExps"];
41->49 [style = solid, label="shuttle"];
10->36 [style = bold, label=""];
29->28 [style = bold, label=""];
7->9 [style = solid, label="exp"];
36->18 [style = solid, label="newInnerOrdinal"];
14->15 [style = dotted, label="true"];
60->13 [style = solid, label="shuttle"];
50->18 [style = solid, label="to"];
54->20 [style = dotted, label="true"];
39->10 [style = solid, label="fieldName"];
7->52 [style = solid, label="exp"];
53->11 [style = dotted, label="true"];
0->4 [style = bold, label=""];
43->46 [style = solid, label="flattenFieldsCount"];
51->10 [style = solid, label="newRef"];
58->50 [style = dotted, label="true"];
40->12 [style = dotted, label="true"];
9->45 [style = bold, label=""];
37->39 [style = dotted, label="true"];
15->48 [style = solid, label="firstOp"];
21->54 [style = solid, label="i"];
47->6 [style = dotted, label="true"];
57->42 [style = solid, label="flattenedExps"];
30->52 [style = dotted, label="false"];
14->44 [style = dotted, label="false"];
55->41 [style = dotted, label="true"];
15->47 [style = solid, label="firstOp"];
52->4 [style = dotted, label="true"];
27->44 [style = solid, label="flattenedExps"];
18->51 [style = dotted, label="true"];
47->13 [style = dotted, label="true"];
12->58 [style = bold, label=""];
26->18 [style = bold, label=""];
}
