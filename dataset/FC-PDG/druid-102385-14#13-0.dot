digraph {
5 [style = filled, label = "rowIngestionMetersHandlerProviderBinder.addBinding(\"dropwizard\").to().in()@@@5@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
9 [style = filled, label = "binder.bind().in()@@@6@@@['0', '0', '1']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB3BBB"];
4 [style = filled, label = "Binder binder@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
6 [style = filled, label = "bindRowIngestionMeters['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
2 [style = filled, label = "final boolean standalone@@@2@@@['1', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
8 [style = filled, label = "final MapBinder<String,RowIngestionMetersFactory> rowIngestionMetersHandlerProviderBinder = PolyBind.optionBinder(binder,Key.get())@@@4@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
0 [style = filled, label = "getModules['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
7 [style = filled, label = "PolyBind.createChoice(binder,\"druid.indexer.task.rowIngestionMeters.type\",Key.get(),Key.get())@@@3@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
1 [style = filled, label = "return ImmutableList.of(new Module(){@Override public void configure(Binder binder){if (standalone) {binder.bindConstant().annotatedWith(Names.named(\"serviceName\")).to(IndexingServiceSelectorConfig.DEFAULT_SERVICE_NAME)binder.bindConstant().annotatedWith(Names.named(\"servicePort\")).to(8090)binder.bindConstant().annotatedWith(Names.named(\"tlsServicePort\")).to(8290)}JsonConfigProvider.bind(binder,\"druid.coordinator.asOverlord\",)JsonConfigProvider.bind(binder,\"druid.indexer.queue\",)JsonConfigProvider.bind(binder,\"druid.indexer.tasklock\",)JsonConfigProvider.bind(binder,\"druid.indexer.task\",)JsonConfigProvider.bind(binder,\"druid.indexer.auditlog\",)binder.bind().in()binder.bind().to()binder.bind().to().in()binder.bind(new TypeLiteral<List<TaskLogStreamer>>(){}).toProvider(new ListProvider<TaskLogStreamer>().add().add()).in()binder.bind().to().in()binder.bind().in()binder.bind().in()binder.bind().in()binder.bind().in()binder.bind().in()binder.bind().to().in()binder.bind(new TypeLiteral<IndexTaskClientFactory<ParallelIndexSupervisorTaskClient>>(){}).toProvider(Providers.of(null))binder.bind().toProvider(Providers.of(null))PolyBind.createChoice(binder,\"druid.indexer.task.rowIngestionMeters.type\",Key.get(),Key.get())final MapBinder<String,RowIngestionMetersFactory> rowIngestionMetersHandlerProviderBinder = PolyBind.optionBinder(binder,Key.get())rowIngestionMetersHandlerProviderBinder.addBinding(\"dropwizard\").to().in()binder.bind().in()configureTaskStorage(binder)configureAutoscale(binder)configureRunners(binder)configureOverlordHelpers(binder)binder.bind().toProvider().in()if (standalone) {binder.bind().in()binder.bind().to().in()binder.bind().to().in()}Jerseys.addResource(binder,)Jerseys.addResource(binder,)Jerseys.addResource(binder,)binder.bind().to().in()if (standalone) {LifecycleModule.register(binder,)}bindNodeRoleAndAnnouncer(binder,,DiscoverySideEffectsProvider.builder(NodeRole.OVERLORD).build())Jerseys.addResource(binder,)LifecycleModule.registerKey(binder,Key.get())}private void configureTaskStorage(Binder binder){JsonConfigProvider.bind(binder,\"druid.indexer.storage\",)PolyBind.createChoice(binder,\"druid.indexer.storage.type\",Key.get(),Key.get())final MapBinder<String,TaskStorage> storageBinder = PolyBind.optionBinder(binder,Key.get())storageBinder.addBinding(\"local\").to()binder.bind().in()storageBinder.addBinding(\"metadata\").to().in()binder.bind().in()}private void configureRunners(Binder binder){JsonConfigProvider.bind(binder,\"druid.worker\",)PolyBind.createChoice(binder,\"druid.indexer.runner.type\",Key.get(),Key.get())final MapBinder<String,TaskRunnerFactory> biddy = PolyBind.optionBinder(binder,Key.get())IndexingServiceModuleHelper.configureTaskRunnerConfigs(binder)biddy.addBinding(\"local\").to()binder.bind().in()biddy.addBinding(RemoteTaskRunnerFactory.TYPE_NAME).to().in()binder.bind().in()biddy.addBinding(HttpRemoteTaskRunnerFactory.TYPE_NAME).to().in()binder.bind().in()JacksonConfigProvider.bind(binder,WorkerBehaviorConfig.CONFIG_KEY,,null)}private void configureAutoscale(Binder binder){JsonConfigProvider.bind(binder,\"druid.indexer.autoscale\",)JsonConfigProvider.bind(binder,\"druid.indexer.autoscale\",)JsonConfigProvider.bind(binder,\"druid.indexer.autoscale\",)PolyBind.createChoice(binder,\"druid.indexer.autoscale.strategy.type\",Key.get(),Key.get())final MapBinder<String,ProvisioningStrategy> biddy = PolyBind.optionBinder(binder,Key.get())biddy.addBinding(\"simple\").to()biddy.addBinding(\"pendingTaskBased\").to()}private void configureOverlordHelpers(Binder binder){JsonConfigProvider.bind(binder,\"druid.indexer.logs.kill\",)Multibinder.newSetBinder(binder,).addBinding().to()}},new IndexingServiceFirehoseModule(),new IndexingServiceInputSourceModule(),new IndexingServiceTaskLogsModule(),new IndexingServiceTuningConfigModule(),new SupervisorModule(),new LookupSerdeModule(),new SamplerModule())@@@3@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
3 [style = filled, label = "getModules['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
4->8 [style = solid, label="binder"];
0->2 [style = dotted, label="true"];
6->4 [style = dotted, label="true"];
3->1 [style = bold, label=""];
6->7 [style = bold, label=""];
7->8 [style = bold, label=""];
8->5 [style = bold, label=""];
5->9 [style = bold, label=""];
3->2 [style = dotted, label="true"];
0->1 [style = bold, label=""];
2->1 [style = solid, label="standalone"];
4->7 [style = solid, label="binder"];
}
