digraph {
21 [style = filled, label = "return new DownloadAnswer(resourceType.toString() + \" is corrupted on storage due to an invalid url , cannot download\",VMTemplateStorageResourceAssoc.Status.DOWNLOAD_ERROR)@@@10@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
32 [style = filled, label = "DownloadCommand cmd@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
12 [style = filled, label = "return new DownloadAnswer(\"invalid algorithm: \" + cmd.getChecksum(),VMTemplateStorageResourceAssoc.Status.NOT_DOWNLOADED)@@@16@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
0 [style = filled, label = "long maxDownloadSizeInBytes = (cmd.getMaxDownloadSizeInBytes() == null)? TemplateDownloader.DEFAULT_MAX_TEMPLATE_SIZE_IN_BYTES: (cmd.getMaxDownloadSizeInBytes())@@@29@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
28 [style = filled, label = "cmd.getUrl() == null@@@9@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
17 [style = filled, label = "return new DownloadAnswer(\"Invalid Name\",VMTemplateStorageResourceAssoc.Status.DOWNLOAD_ERROR)@@@13@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
19 [style = filled, label = "jobId = downloadPublicTemplate(cmd.getId(),cmd.getUrl(),cmd.getName(),cmd.getFormat(),cmd.isHvm(),cmd.getAccountId(),cmd.getDescription(),cmd.getChecksum(),installPathPrefix,cmd.getInstallPath(),user,password,maxDownloadSizeInBytes,cmd.getProxy(),resourceType)@@@35@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
23 [style = filled, label = "handleDownloadCommand['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
31 [style = filled, label = "this._processTimeout = timeout@@@4@@@['0', '1', '0']", fillcolor = white, shape = ellipse image = "AAA1AAABBB2BBB"];
10 [style = filled, label = "jobId = downloadS3Template((S3TO)dstore,cmd.getId(),cmd.getUrl(),cmd.getName(),cmd.getFormat(),cmd.isHvm(),cmd.getAccountId(),cmd.getDescription(),cmd.getChecksum(),installPathPrefix,user,password,maxDownloadSizeInBytes,cmd.getProxy(),resourceType)@@@32@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
3 [style = filled, label = "return new DownloadAnswer(\"Internal Error\",VMTemplateStorageResourceAssoc.Status.DOWNLOAD_ERROR)@@@39@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
39 [style = filled, label = "sleep()@@@10@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
41 [style = filled, label = "return handleUploadProgressCmd((UploadProgressCommand)cmd)@@@5@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
36 [style = filled, label = "String jobId = uploadPublicTemplate(cmd.getId(),cmd.getUrl(),cmd.getName(),cmd.getFormat(),cmd.getAccountId(),cmd.getDescription(),cmd.getChecksum(),cmd.getInstallPath(),user,password,cmd.getTemplateSizeInBytes())@@@9@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
20 [style = filled, label = "cmd instanceof DownloadProgressCommand@@@6@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
25 [style = filled, label = "!DigestHelper.isAlgorithmSupported(cmd.getChecksum())@@@15@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
18 [style = filled, label = "ResourceType resourceType = cmd.getResourceType()@@@5@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
8 [style = filled, label = "cmd.getName() == null@@@12@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
15 [style = filled, label = "sleep()@@@37@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
13 [style = filled, label = "return handleDownloadProgressCmd(resource,(DownloadProgressCommand)cmd)@@@7@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
6 [style = filled, label = "DownloadCommand cmd@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
16 [style = filled, label = "user = cmd.getAuth().getUserName()@@@26@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
42 [style = filled, label = "UploadCommand cmd@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
11 [style = filled, label = "installPathPrefix = resource.getRootDir(((NfsTO)dstore).getUrl(),_nfsVersion) + File.separator + installPathPrefix@@@21@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
22 [style = filled, label = "cmd.getAuth() != null@@@25@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
40 [style = filled, label = "cmd instanceof UploadProgressCommand@@@4@@@['0', '0', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB3BBB"];
34 [style = filled, label = "SecondaryStorageResource resource@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
27 [style = filled, label = "SecondaryStorageResource resource@@@2@@@['1', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
29 [style = filled, label = "dstore instanceof S3TO@@@31@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
4 [style = filled, label = "String jobId = null@@@30@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
35 [style = filled, label = "s_logger.warn(\"Handling the upload \" + cmd.getInstallPath() + \" \" + cmd.getId())@@@3@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
14 [style = filled, label = "dstore instanceof NfsTO@@@20@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
37 [style = filled, label = "return new UploadAnswer(jobId,getUploadPct(jobId),getUploadError(jobId),getUploadStatus2(jobId),getUploadLocalPath(jobId),getInstallPath(jobId),getUploadTemplateSize(jobId))@@@11@@@['0', '0', '1']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB3BBB"];
5 [style = filled, label = "return new DownloadAnswer(jobId,getDownloadPct(jobId),getDownloadError(jobId),getDownloadStatus2(jobId),getDownloadLocalPath(jobId),getInstallPath(jobId),getDownloadTemplateSize(jobId),getDownloadTemplateSize(jobId),getDownloadCheckSum(jobId))@@@41@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
7 [style = filled, label = "DataStoreTO dstore = cmd.getDataStore()@@@18@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
24 [style = filled, label = "jobId == null@@@38@@@['1', '1', '0']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
1 [style = filled, label = "String user = null@@@7@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
9 [style = filled, label = "String password = null@@@8@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
26 [style = filled, label = "String installPathPrefix = cmd.getInstallPath()@@@19@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
30 [style = filled, label = "int timeout = NumbersUtil.parseInt(cmd.getContextParam(\"vmware.package.ova.timeout\"),3600000)@@@3@@@['0', '1', '0']", fillcolor = white, shape = ellipse image = "AAA1AAABBB2BBB"];
33 [style = filled, label = "handleDownloadCommand['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
2 [style = filled, label = "password = cmd.getAuth().getPassword()@@@27@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
38 [style = filled, label = "handleUploadCommand['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
28->21 [style = bold, label=""];
16->19 [style = solid, label="user"];
29->19 [style = bold, label=""];
18->20 [style = bold, label=""];
0->4 [style = bold, label=""];
27->42 [style = dashed, label="0"];
20->40 [style = dashed, label="0"];
33->32 [style = dotted, label="true"];
29->10 [style = dotted, label="true"];
31->18 [style = bold, label=""];
14->11 [style = bold, label=""];
25->12 [style = bold, label=""];
9->36 [style = bold, label=""];
1->36 [style = solid, label="user"];
8->25 [style = bold, label=""];
29->19 [style = dotted, label="false"];
38->35 [style = bold, label=""];
7->14 [style = solid, label="dstore"];
11->19 [style = solid, label="installPathPrefix"];
7->10 [style = solid, label="dstore"];
10->15 [style = bold, label=""];
24->5 [style = bold, label=""];
39->37 [style = bold, label=""];
10->5 [style = solid, label="jobId"];
41->1 [style = bold, label=""];
22->36 [style = dashed, label="0"];
35->40 [style = bold, label=""];
40->1 [style = bold, label=""];
25->12 [style = dotted, label="true"];
0->19 [style = solid, label="maxDownloadSizeInBytes"];
1->9 [style = bold, label=""];
26->19 [style = solid, label="installPathPrefix"];
13->41 [style = dashed, label="0"];
28->8 [style = bold, label=""];
21->8 [style = bold, label=""];
13->28 [style = bold, label=""];
32->20 [style = solid, label="cmd"];
18->19 [style = solid, label="resourceType"];
40->41 [style = dotted, label="true"];
30->31 [style = bold, label=""];
16->2 [style = bold, label=""];
27->13 [style = solid, label="resource"];
29->10 [style = bold, label=""];
23->18 [style = bold, label=""];
36->37 [style = solid, label="jobId"];
6->20 [style = solid, label="cmd"];
24->37 [style = dashed, label="0"];
28->21 [style = dotted, label="true"];
10->24 [style = solid, label="jobId"];
23->6 [style = dotted, label="true"];
16->10 [style = solid, label="user"];
26->10 [style = solid, label="installPathPrefix"];
38->34 [style = dotted, label="true"];
22->0 [style = bold, label=""];
22->16 [style = bold, label=""];
26->11 [style = solid, label="installPathPrefix"];
15->24 [style = bold, label=""];
9->10 [style = solid, label="password"];
26->14 [style = bold, label=""];
18->10 [style = solid, label="resourceType"];
24->3 [style = dotted, label="true"];
19->24 [style = solid, label="jobId"];
23->27 [style = dotted, label="true"];
20->13 [style = bold, label=""];
11->10 [style = solid, label="installPathPrefix"];
42->40 [style = solid, label="cmd"];
40->41 [style = bold, label=""];
19->5 [style = solid, label="jobId"];
24->3 [style = bold, label=""];
2->10 [style = solid, label="password"];
20->13 [style = dotted, label="true"];
2->0 [style = bold, label=""];
38->42 [style = dotted, label="true"];
8->17 [style = dotted, label="true"];
1->19 [style = solid, label="user"];
2->19 [style = solid, label="password"];
9->22 [style = bold, label=""];
12->7 [style = bold, label=""];
42->41 [style = solid, label="cmd"];
22->16 [style = dotted, label="true"];
7->29 [style = solid, label="dstore"];
25->7 [style = bold, label=""];
33->27 [style = dotted, label="true"];
19->15 [style = bold, label=""];
7->26 [style = bold, label=""];
11->1 [style = bold, label=""];
9->36 [style = solid, label="password"];
8->17 [style = bold, label=""];
9->19 [style = solid, label="password"];
3->5 [style = bold, label=""];
14->1 [style = bold, label=""];
6->13 [style = solid, label="cmd"];
22->2 [style = dotted, label="true"];
33->30 [style = bold, label=""];
30->31 [style = solid, label="timeout"];
20->28 [style = bold, label=""];
14->11 [style = dotted, label="true"];
4->29 [style = bold, label=""];
0->10 [style = solid, label="maxDownloadSizeInBytes"];
36->39 [style = bold, label=""];
32->13 [style = solid, label="cmd"];
1->10 [style = solid, label="user"];
17->25 [style = bold, label=""];
}
