digraph {
18 [style = filled, label = "long diffMs = (System.currentTimeMillis() - startMs)@@@36@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
29 [style = filled, label = "state != Replica.State.ACTIVE@@@21@@@['0', '0', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB3BBB"];
37 [style = filled, label = "zkr.updateClusterState(true)@@@5@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
25 [style = filled, label = "assertNotNull(cs)@@@14@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
28 [style = filled, label = "cloudClient.getZkStateReader().updateClusterState(true)@@@12@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
7 [style = filled, label = "int rf@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
3 [style = filled, label = "String shardId@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
5 [style = filled, label = "ensureAllReplicasAreActive['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
16 [style = filled, label = "cs = cloudClient.getZkStateReader().getClusterState()@@@13@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
19 [style = filled, label = "assertNotNull(\"No Slice for \" + shardId,shard)@@@16@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
13 [style = filled, label = "waitMs % 2000 == 0@@@12@@@['0', '0', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB3BBB"];
32 [style = filled, label = "fail(\"Didn't see replicas \" + replicasToCheck + \" come up within \" + maxWaitMs + \" ms! ClusterState: \" + printClusterStateInfo(testCollectionName))@@@35@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
14 [style = filled, label = "long waitMs = 0L@@@9@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
20 [style = filled, label = "!allReplicasUp@@@35@@@['0', '0', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB3BBB"];
2 [style = filled, label = "fail['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
21 [style = filled, label = "int maxWaitSecs@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
46 [style = filled, label = "ZkStateReader zkr = cloudClient.getZkStateReader()@@@4@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
40 [style = filled, label = "final Replica.State state = replica.getState()@@@20@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
26 [style = filled, label = "waitMs += 1000L@@@32@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
34 [style = filled, label = "Collection<Slice> slices = cs.getActiveSlices(testCollectionName)@@@7@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
24 [style = filled, label = "long startMs = System.currentTimeMillis()@@@3@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
44 [style = filled, label = "log.info(\"Replica \" + replica.getName() + \" is currently \" + state)@@@22@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
9 [style = filled, label = "int maxWaitSecs@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
33 [style = filled, label = "shard.getReplicas()@@@18@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
1 [style = filled, label = "int maxWaitSecs@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
35 [style = filled, label = "allReplicasUp = false@@@23@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
41 [style = filled, label = "boolean allReplicasUp = false@@@8@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
4 [style = filled, label = "int rf@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
11 [style = filled, label = "int shards@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
48 [style = filled, label = "long maxWaitMs = maxWaitSecs * 1000L@@@10@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
47 [style = filled, label = "Replica replica@@@18@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
43 [style = filled, label = "!replicasToCheck.contains(replica.getName())@@@19@@@['0', '0', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB3BBB"];
38 [style = filled, label = "!allReplicasUp@@@26@@@['0', '0', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB3BBB"];
36 [style = filled, label = "ClusterState cs = zkr.getClusterState()@@@6@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
22 [style = filled, label = "log.info(\"Took \" + diffMs + \" ms to see replicas (\" + replicasToCheck + \"( become active.\")@@@37@@@['0', '0', '1']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB3BBB"];
31 [style = filled, label = "waitToSeeReplicasActive['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
39 [style = filled, label = "Exception ignoreMe@@@30@@@['0', '0', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB3BBB"];
42 [style = filled, label = "Thread.sleep(1000L)@@@28@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
23 [style = filled, label = "String shardId@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
8 [style = filled, label = "String shardId@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
0 [style = filled, label = "int shards@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
12 [style = filled, label = "waitMs < maxWaitMs && !allReplicasUp@@@11@@@['0', '0', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB3BBB"];
6 [style = filled, label = "ensureAllReplicasAreActive['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
10 [style = filled, label = "fail['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
27 [style = filled, label = "allReplicasUp = true@@@17@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
45 [style = filled, label = "String testCollectionName@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
17 [style = filled, label = "{}@@@30@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
15 [style = filled, label = "Set<String> replicasToCheck@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
30 [style = filled, label = "Slice shard = cs.getSlice(testCollectionName,shardId)@@@15@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
45->32 [style = solid, label="testCollectionName"];
12->40 [style = dotted, label="true"];
21->48 [style = solid, label="maxWaitSecs"];
13->28 [style = dotted, label="true"];
25->30 [style = bold, label=""];
44->35 [style = bold, label=""];
5->1 [style = dotted, label="true"];
38->12 [style = bold, label=""];
16->25 [style = solid, label="cs"];
35->43 [style = bold, label=""];
38->42 [style = bold, label=""];
43->40 [style = bold, label=""];
48->12 [style = bold, label=""];
31->21 [style = dotted, label="true"];
26->12 [style = bold, label=""];
18->22 [style = bold, label=""];
48->12 [style = solid, label="maxWaitMs"];
30->19 [style = solid, label="shard"];
29->43 [style = bold, label=""];
29->44 [style = bold, label=""];
35->38 [style = bold, label=""];
6->11 [style = dotted, label="true"];
32->18 [style = bold, label=""];
14->48 [style = bold, label=""];
24->46 [style = bold, label=""];
12->33 [style = dotted, label="true"];
37->36 [style = bold, label=""];
23->19 [style = solid, label="shardId"];
5->3 [style = dotted, label="true"];
26->12 [style = solid, label="waitMs"];
46->37 [style = bold, label=""];
13->16 [style = bold, label=""];
5->4 [style = dotted, label="true"];
20->18 [style = bold, label=""];
30->19 [style = bold, label=""];
12->27 [style = dotted, label="true"];
12->47 [style = dotted, label="true"];
12->19 [style = dotted, label="true"];
31->23 [style = dotted, label="true"];
48->32 [style = solid, label="maxWaitMs"];
31->15 [style = dotted, label="true"];
40->44 [style = solid, label="state"];
6->7 [style = dotted, label="true"];
29->38 [style = bold, label=""];
12->25 [style = dotted, label="true"];
38->42 [style = dotted, label="true"];
40->29 [style = bold, label=""];
27->43 [style = bold, label=""];
31->45 [style = dotted, label="true"];
31->24 [style = bold, label=""];
45->34 [style = solid, label="testCollectionName"];
12->43 [style = dotted, label="true"];
12->20 [style = bold, label=""];
5->0 [style = dotted, label="true"];
6->10 [style = dotted, label="true"];
12->13 [style = bold, label=""];
12->13 [style = dotted, label="true"];
18->22 [style = solid, label="diffMs"];
43->38 [style = bold, label=""];
6->9 [style = dotted, label="true"];
15->32 [style = solid, label="replicasToCheck"];
39->17 [style = bold, label=""];
6->8 [style = dotted, label="true"];
36->34 [style = bold, label=""];
41->14 [style = bold, label=""];
14->13 [style = solid, label="waitMs"];
5->2 [style = dotted, label="true"];
15->22 [style = solid, label="replicasToCheck"];
40->29 [style = solid, label="state"];
42->26 [style = bold, label=""];
17->26 [style = bold, label=""];
12->29 [style = dotted, label="true"];
26->13 [style = solid, label="waitMs"];
24->18 [style = solid, label="startMs"];
29->44 [style = dotted, label="true"];
20->32 [style = bold, label=""];
16->25 [style = bold, label=""];
34->41 [style = bold, label=""];
12->38 [style = dotted, label="true"];
23->30 [style = solid, label="shardId"];
28->16 [style = bold, label=""];
12->30 [style = dotted, label="true"];
38->26 [style = dotted, label="true"];
12->16 [style = dotted, label="true"];
19->27 [style = bold, label=""];
14->12 [style = solid, label="waitMs"];
20->32 [style = dotted, label="true"];
29->35 [style = dotted, label="true"];
45->30 [style = solid, label="testCollectionName"];
13->28 [style = bold, label=""];
}
