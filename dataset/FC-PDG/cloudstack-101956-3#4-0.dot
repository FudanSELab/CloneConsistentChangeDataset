digraph {
2 [style = filled, label = "final Long diskOfferingId@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
33 [style = filled, label = "_resourceLimitMgr.changeResourceCount(volume.getAccountId(),ResourceType.primary_storage,displayVolume,new Long(volume.getSize()))@@@5@@@['0', '0', '1']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB3BBB"];
31 [style = filled, label = "updateResourceCount['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
29 [style = filled, label = "Volume volume@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
9 [style = filled, label = "final String uuid@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
13 [style = filled, label = "final Account caller@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
26 [style = filled, label = "final Long minIops@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
27 [style = filled, label = "final Long maxIops@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
28 [style = filled, label = "_resourceLimitMgr.changeResourceCount(volume.getAccountId(),ResourceType.volume,displayVolume)@@@4@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
20 [style = filled, label = "final Long diskOfferingId@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
6 [style = filled, label = "final CreateVolumeCmd cmd@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
19 [style = filled, label = "commitVolume['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
5 [style = filled, label = "final Boolean displayVolume@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
0 [style = filled, label = "final Long zoneId@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
8 [style = filled, label = "final Long size@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
12 [style = filled, label = "final Account owner@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
1 [style = filled, label = "final Long minIops@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
30 [style = filled, label = "displayVolume != null && displayVolume != volume.isDisplayVolume()@@@3@@@['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
3 [style = filled, label = "final String userSpecifiedName@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
11 [style = filled, label = "return Transaction.execute(new TransactionCallback<VolumeVO>(){@Override public VolumeVO doInTransaction(TransactionStatus status){VolumeVO volume = new VolumeVO(userSpecifiedName,-1,-1,-1,-1,new Long(-1),null,null,provisioningType,0,Volume.Type.DATADISK)volume.setPoolId(null)volume.setUuid(uuid)volume.setDataCenterId(zoneId)volume.setPodId(null)volume.setAccountId(owner.getId())volume.setDomainId(owner.getDomainId())volume.setDiskOfferingId(diskOfferingId)volume.setSize(size)volume.setMinIops(minIops)volume.setMaxIops(maxIops)volume.setInstanceId(null)volume.setUpdated(new Date())volume.setDisplayVolume(displayVolume)if (parentVolume != null) {volume.setTemplateId(parentVolume.getTemplateId())volume.setFormat(parentVolume.getFormat())}{volume.setTemplateId(null)}volume = _volsDao.persist(volume)if (cmd.getSnapshotId() == null && displayVolume) {UsageEventUtils.publishUsageEvent(EventTypes.EVENT_VOLUME_CREATE,volume.getAccountId(),volume.getDataCenterId(),volume.getId(),volume.getName(),diskOfferingId,null,size,.getName(),volume.getUuid(),displayVolume)}CallContext.current().setEventDetails(\"Volume Id: \" + volume.getUuid())_resourceLimitMgr.incrementResourceCount(volume.getAccountId(),ResourceType.volume,displayVolume)_resourceLimitMgr.incrementResourceCount(volume.getAccountId(),ResourceType.primary_storage,displayVolume,new Long(volume.getSize()))return volume}})@@@3@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
22 [style = filled, label = "final String uuid@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
14 [style = filled, label = "final Long zoneId@@@2@@@['1', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
15 [style = filled, label = "final Account caller@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
32 [style = filled, label = "Boolean displayVolume@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
21 [style = filled, label = "final VolumeVO parentVolume@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
4 [style = filled, label = "commitVolume['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
10 [style = filled, label = "final Storage.ProvisioningType provisioningType@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
16 [style = filled, label = "final Account owner@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
17 [style = filled, label = "final Boolean displayVolume@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
18 [style = filled, label = "final String userSpecifiedName@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
24 [style = filled, label = "final Storage.ProvisioningType provisioningType@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
23 [style = filled, label = "final Long size@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
7 [style = filled, label = "final Long maxIops@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
25 [style = filled, label = "final CreateVolumeCmd cmd@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
19->21 [style = dotted, label="true"];
3->11 [style = solid, label="userSpecifiedName"];
30->28 [style = dotted, label="true"];
4->3 [style = dotted, label="true"];
17->11 [style = solid, label="displayVolume"];
29->28 [style = solid, label="volume"];
24->11 [style = solid, label="provisioningType"];
4->12 [style = dotted, label="true"];
19->24 [style = dotted, label="true"];
30->33 [style = dotted, label="true"];
20->11 [style = solid, label="diskOfferingId"];
4->7 [style = dotted, label="true"];
4->10 [style = dotted, label="true"];
4->11 [style = bold, label=""];
18->11 [style = solid, label="userSpecifiedName"];
32->33 [style = solid, label="displayVolume"];
19->14 [style = dotted, label="true"];
26->11 [style = solid, label="minIops"];
21->11 [style = solid, label="parentVolume"];
2->11 [style = solid, label="diskOfferingId"];
4->1 [style = dotted, label="true"];
4->0 [style = dotted, label="true"];
19->20 [style = dotted, label="true"];
5->11 [style = solid, label="displayVolume"];
4->8 [style = dotted, label="true"];
14->11 [style = solid, label="zoneId"];
19->23 [style = dotted, label="true"];
19->16 [style = dotted, label="true"];
19->11 [style = bold, label=""];
28->33 [style = bold, label=""];
19->22 [style = dotted, label="true"];
32->28 [style = solid, label="displayVolume"];
23->11 [style = solid, label="size"];
27->11 [style = solid, label="maxIops"];
1->11 [style = solid, label="minIops"];
4->14 [style = dotted, label="true"];
7->11 [style = solid, label="maxIops"];
19->15 [style = dotted, label="true"];
31->29 [style = dotted, label="true"];
31->32 [style = dotted, label="true"];
9->11 [style = solid, label="uuid"];
4->5 [style = dotted, label="true"];
8->11 [style = solid, label="size"];
10->11 [style = solid, label="provisioningType"];
4->9 [style = dotted, label="true"];
19->25 [style = dotted, label="true"];
30->28 [style = bold, label=""];
19->17 [style = dotted, label="true"];
22->11 [style = solid, label="uuid"];
31->30 [style = bold, label=""];
14->11 [style = solid, label="parentVolume"];
4->13 [style = dotted, label="true"];
4->6 [style = dotted, label="true"];
19->27 [style = dotted, label="true"];
19->26 [style = dotted, label="true"];
32->30 [style = solid, label="displayVolume"];
0->11 [style = solid, label="zoneId"];
4->2 [style = dotted, label="true"];
19->18 [style = dotted, label="true"];
}
