digraph {
0 [style = filled, label = "MapperService mapperService = createIndex(\"test1\",Settings.builder().put(MapperService.INDEX_MAPPING_NESTED_DOCS_LIMIT_SETTING.getKey(),maxNoNestedDocs).build()).mapperService()@@@4@@@['1', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
7 [style = filled, label = "XContentBuilder docBuilder = XContentFactory.jsonBuilder()@@@7@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
3 [style = filled, label = "SourceToParse source1 = new SourceToParse(\"test1\",\"1\",BytesReference.bytes(docBuilder),XContentType.JSON)@@@22@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
2 [style = filled, label = "testLimitNestedDocs['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
15 [style = filled, label = "SourceToParse source2 = new SourceToParse(\"test1\",\"2\",BytesReference.bytes(docBuilder2),XContentType.JSON)@@@41@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
17 [style = filled, label = "{docBuilder2.startArray(\"nested1\"){docBuilder2.startObject().field(\"field1\",\"11\").field(\"field2\",\"21\").endObject()}docBuilder2.endArray()docBuilder2.startArray(\"nested2\"){docBuilder2.startObject().field(\"field1\",\"12\").field(\"field2\",\"22\").endObject()docBuilder2.startObject().field(\"field1\",\"13\").field(\"field2\",\"23\").endObject()}docBuilder2.endArray()}@@@27@@@['1', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
23 [style = filled, label = "Settings settings = Settings.builder().put(MapperService.INDEX_MAPPING_NESTED_DOCS_LIMIT_SETTING.getKey(),maxNoNestedDocs).build()@@@4@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
9 [style = filled, label = "DocumentMapper docMapper = mapperService.parse(\"type\",new CompressedXContent(mapping))@@@6@@@['1', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
10 [style = filled, label = "ParsedDocument doc = docMapper.parse(source1)@@@23@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
25 [style = filled, label = "String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\").startObject(\"properties\").startObject(\"nested1\").field(\"type\",\"nested\").endObject().startObject(\"nested2\").field(\"type\",\"nested\").endObject().endObject().endObject().endObject())@@@5@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
19 [style = filled, label = "testLimitNestedDocs['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
5 [style = filled, label = "String mapping = Strings.toString(XContentFactory.jsonBuilder().startObject().startObject(\"type\").startObject(\"properties\").startObject(\"nested1\").field(\"type\",\"nested\").endObject().endObject().endObject().endObject())@@@5@@@['1', '0', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB1BBB"];
12 [style = filled, label = "assertThat(doc.docs().size(),equalTo(3))@@@24@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
21 [style = filled, label = "docBuilder2.endObject()@@@31@@@['0', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB2BBB"];
26 [style = filled, label = "testLimitNestedDocsMultipleNestedFields['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
20 [style = filled, label = "DocumentMapper docMapper = createMapperService(settings,mapping(null)).documentMapper()@@@5@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
16 [style = filled, label = "docBuilder2.startObject()@@@26@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
6 [style = filled, label = "XContentBuilder docBuilder2 = XContentFactory.jsonBuilder()@@@25@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
13 [style = filled, label = "docBuilder.startObject()@@@8@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
11 [style = filled, label = "assertEquals(\"The number of nested documents has exceeded the allowed limit of (\" + maxNoNestedDocs + \"(. This limit can be set by changing the (\" + MapperService.INDEX_MAPPING_NESTED_DOCS_LIMIT_SETTING.getKey() + \"( index level setting.\",e.getMessage())@@@43@@@['1', '0', '1']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
14 [style = filled, label = "docBuilder2.endObject()@@@40@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
18 [style = filled, label = "long maxNoNestedDocs = 2L@@@3@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
8 [style = filled, label = "{docBuilder.startArray(\"nested1\"){docBuilder.startObject().field(\"field1\",\"11\").field(\"field2\",\"21\").endObject()}docBuilder.endArray()docBuilder.startArray(\"nested2\"){docBuilder.startObject().field(\"field1\",\"21\").field(\"field2\",\"22\").endObject()}docBuilder.endArray()}@@@9@@@['1', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
24 [style = filled, label = "XContentBuilder docBuilder = XContentFactory.jsonBuilder()@@@6@@@['0', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB2BBB"];
22 [style = filled, label = "docBuilder.endObject()@@@16@@@['0', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB2BBB"];
4 [style = filled, label = "docBuilder.endObject()@@@21@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
1 [style = filled, label = "MapperParsingException e = expectThrows(,null)@@@42@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
7->13 [style = bold, label=""];
3->10 [style = solid, label="source1"];
4->3 [style = bold, label=""];
23->20 [style = bold, label=""];
19->18 [style = bold, label=""];
24->4 [style = solid, label="docBuilder"];
18->23 [style = bold, label=""];
5->9 [style = bold, label=""];
5->9 [style = solid, label="mapping"];
0->23 [style = dashed, label="0"];
25->9 [style = bold, label=""];
7->3 [style = solid, label="docBuilder"];
26->18 [style = bold, label=""];
2->18 [style = bold, label=""];
5->25 [style = dashed, label="0"];
16->17 [style = bold, label=""];
9->7 [style = bold, label=""];
4->3 [style = solid, label="source1"];
12->6 [style = bold, label=""];
25->9 [style = solid, label="mapping"];
1->11 [style = bold, label=""];
5->20 [style = dashed, label="0"];
22->4 [style = bold, label=""];
6->15 [style = solid, label="docBuilder2"];
3->10 [style = bold, label=""];
17->14 [style = bold, label=""];
10->12 [style = bold, label=""];
6->16 [style = bold, label=""];
16->21 [style = bold, label=""];
0->25 [style = bold, label=""];
12->14 [style = solid, label="docBuilder2"];
14->15 [style = bold, label=""];
13->22 [style = bold, label=""];
8->4 [style = bold, label=""];
13->8 [style = bold, label=""];
20->24 [style = bold, label=""];
24->7 [style = bold, label=""];
18->0 [style = bold, label=""];
18->11 [style = solid, label="maxNoNestedDocs"];
0->5 [style = bold, label=""];
21->14 [style = bold, label=""];
15->1 [style = bold, label=""];
18->1 [style = solid, label="maxNoNestedDocs"];
}
