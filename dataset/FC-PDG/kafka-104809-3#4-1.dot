digraph {
21 [style = filled, label = "assertEquals(0,assignor.delay)@@@37@@@['1', '1', '1']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
45 [style = filled, label = "String veryFlakyWorker = \"worker1\"@@@16@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
41 [style = filled, label = "assignor.handleLostAssignments(lostAssignments,newSubmissions,new ArrayList<>(configuredAssignment.values()),memberConfigs)@@@35@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
44 [style = filled, label = "WorkerLoad lostLoad = workerLoad(veryFlakyWorker,2,2,4,4)@@@17@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
18 [style = filled, label = "assignor.handleLostAssignments(lostAssignments,newSubmissions,new ArrayList<>(configuredAssignment.values()))@@@32@@@['1', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
22 [style = filled, label = "testLostAssignmentHandlingWhenWorkerLeavesPermanently['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
11 [style = filled, label = "assignor.handleLostAssignments(new ConnectorsAndTasks.Builder().build(),newSubmissions,new ArrayList<>(configuredAssignment.values()))@@@12@@@['1', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
4 [style = filled, label = "assertEquals(time.milliseconds() + rebalanceDelay,assignor.scheduledRebalance)@@@21@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
49 [style = filled, label = "configuredAssignment.remove(veryFlakyWorker)@@@31@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
2 [style = filled, label = "rebalanceDelay /= 2@@@24@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
8 [style = filled, label = "assertTrue(\"Wrong assignment of lost connectors\",newSubmissions.connectors().containsAll(lostAssignments.connectors()))@@@33@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
33 [style = filled, label = "time.sleep(rebalanceDelay)@@@30@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
42 [style = filled, label = "assignor.handleLostAssignments(lostAssignments,newSubmissions,new ArrayList<>(configuredAssignment.values()),memberConfigs)@@@23@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
25 [style = filled, label = "configuredAssignment.put(\"worker0\",workerLoad(\"worker0\",0,2,0,4))@@@9@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
29 [style = filled, label = "Map<String,WorkerLoad> configuredAssignment = new HashMap<>()@@@8@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
30 [style = filled, label = "assertEquals(time.milliseconds() + rebalanceDelay,assignor.scheduledRebalance)@@@28@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
39 [style = filled, label = "memberConfigs = memberConfigs(leader,offset,0,2)@@@12@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
40 [style = filled, label = "testLostAssignmentHandlingWhenWorkerLeavesPermanently['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
38 [style = filled, label = "assignor.handleLostAssignments(lostAssignments,newSubmissions,new ArrayList<>(configuredAssignment.values()),memberConfigs)@@@30@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
28 [style = filled, label = "assertEquals(0,assignor.scheduledRebalance)@@@14@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
36 [style = filled, label = "configuredAssignment.put(\"worker1\",workerLoad(\"worker1\",2,2,4,4))@@@10@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
43 [style = filled, label = "assignor.previousMembers = new HashSet<>(memberConfigs.keySet())@@@18@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
12 [style = filled, label = "assertEquals(0,assignor.delay)@@@7@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
9 [style = filled, label = "assertEquals(0,assignor.scheduledRebalance)@@@36@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
15 [style = filled, label = "ConnectorsAndTasks lostAssignments = new ConnectorsAndTasks.Builder().withCopies(lostLoad.connectors(),lostLoad.tasks()).build()@@@18@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
37 [style = filled, label = "assignor.previousMembers = new HashSet<>(memberConfigs.keySet())@@@27@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
27 [style = filled, label = "assertEquals(0,assignor.scheduledRebalance)@@@6@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
32 [style = filled, label = "assertThat(\"Wrong set of workers for reassignments\",Collections.emptySet(),is(assignor.candidateWorkersForReassignment))@@@13@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
47 [style = filled, label = "assertThat(\"Wrong set of workers for reassignments\",Collections.singleton(veryFlakyWorker),is(assignor.candidateWorkersForReassignment))@@@27@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
5 [style = filled, label = "assertEquals(rebalanceDelay,assignor.delay)@@@22@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
17 [style = filled, label = "time.sleep(rebalanceDelay / 2)@@@23@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
24 [style = filled, label = "ConnectorsAndTasks newSubmissions = new ConnectorsAndTasks.Builder().build()@@@11@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
3 [style = filled, label = "assertEquals(0,assignor.delay)@@@15@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
1 [style = filled, label = "assertThat(\"Wrong set of workers for reassignments\",Collections.emptySet(),is(assignor.candidateWorkersForReassignment))@@@20@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
13 [style = filled, label = "assertThat(\"Wrong set of workers for reassignments\",Collections.emptySet(),is(assignor.candidateWorkersForReassignment))@@@31@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
46 [style = filled, label = "configuredAssignment.put(veryFlakyWorker,new WorkerLoad.Builder(veryFlakyWorker).build())@@@25@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
20 [style = filled, label = "initAssignor()@@@4@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
35 [style = filled, label = "assignor.handleLostAssignments(new ConnectorsAndTasks.Builder().build(),newSubmissions,new ArrayList<>(configuredAssignment.values()),memberConfigs)@@@14@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
26 [style = filled, label = "assignor.handleLostAssignments(lostAssignments,newSubmissions,new ArrayList<>(configuredAssignment.values()))@@@19@@@['1', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
6 [style = filled, label = "assignor.handleLostAssignments(lostAssignments,newSubmissions,new ArrayList<>(configuredAssignment.values()))@@@26@@@['1', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
14 [style = filled, label = "assertEquals(rebalanceDelay,assignor.delay)@@@29@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
31 [style = filled, label = "configuredAssignment.put(\"worker2\",workerLoad(\"worker2\",4,2,8,4))@@@10@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
16 [style = filled, label = "String removedWorker = \"worker1\"@@@19@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
34 [style = filled, label = "memberConfigs.remove(removedWorker)@@@21@@@['0', '1', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB2BBB"];
0 [style = filled, label = "time = new MockTime()@@@3@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
10 [style = filled, label = "assertTrue(assignor.candidateWorkersForReassignment.isEmpty())@@@5@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
19 [style = filled, label = "assertTrue(\"Wrong assignment of lost tasks\",newSubmissions.tasks().containsAll(lostAssignments.tasks()))@@@34@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
48 [style = filled, label = "testLostAssignmentHandlingWhenWorkerBouncesBackButFinallyLeaves['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
7 [style = filled, label = "WorkerLoad lostLoad = workerLoad(removedWorker,2,2,4,4)@@@20@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
23 [style = filled, label = "assertThat(\"Wrong set of workers for reassignments\",Collections.emptySet(),is(assignor.candidateWorkersForReassignment))@@@35@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
15->38 [style = solid, label="lostAssignments"];
2->6 [style = bold, label=""];
41->8 [style = bold, label=""];
39->38 [style = solid, label="memberConfigs"];
2->14 [style = solid, label="rebalanceDelay"];
16->7 [style = bold, label=""];
34->15 [style = bold, label=""];
44->15 [style = bold, label=""];
39->24 [style = bold, label=""];
6->38 [style = dashed, label="0"];
3->16 [style = bold, label=""];
24->6 [style = solid, label="newSubmissions"];
25->31 [style = bold, label=""];
22->0 [style = bold, label=""];
33->18 [style = bold, label=""];
24->11 [style = bold, label=""];
9->21 [style = bold, label=""];
24->26 [style = solid, label="newSubmissions"];
30->14 [style = bold, label=""];
24->38 [style = solid, label="newSubmissions"];
42->1 [style = bold, label=""];
7->44 [style = dashed, label="0"];
28->3 [style = bold, label=""];
45->47 [style = solid, label="veryFlakyWorker"];
5->37 [style = bold, label=""];
1->4 [style = bold, label=""];
43->16 [style = bold, label=""];
16->7 [style = solid, label="removedWorker"];
27->12 [style = bold, label=""];
39->35 [style = solid, label="memberConfigs"];
25->36 [style = bold, label=""];
2->33 [style = solid, label="rebalanceDelay"];
26->1 [style = bold, label=""];
36->31 [style = bold, label=""];
46->6 [style = bold, label=""];
40->0 [style = bold, label=""];
24->18 [style = solid, label="newSubmissions"];
33->41 [style = bold, label=""];
5->17 [style = bold, label=""];
12->29 [style = bold, label=""];
17->2 [style = bold, label=""];
49->18 [style = bold, label=""];
16->45 [style = dashed, label="0"];
0->20 [style = bold, label=""];
15->6 [style = solid, label="lostAssignments"];
6->47 [style = bold, label=""];
45->44 [style = solid, label="veryFlakyWorker"];
15->41 [style = solid, label="lostAssignments"];
39->42 [style = solid, label="memberConfigs"];
24->35 [style = solid, label="newSubmissions"];
24->41 [style = solid, label="newSubmissions"];
31->24 [style = bold, label=""];
3->45 [style = bold, label=""];
35->32 [style = bold, label=""];
11->32 [style = bold, label=""];
2->30 [style = solid, label="rebalanceDelay"];
45->44 [style = bold, label=""];
16->34 [style = solid, label="removedWorker"];
6->13 [style = bold, label=""];
15->42 [style = solid, label="lostAssignments"];
7->15 [style = bold, label=""];
24->42 [style = solid, label="newSubmissions"];
18->8 [style = bold, label=""];
31->39 [style = bold, label=""];
33->49 [style = bold, label=""];
4->5 [style = bold, label=""];
2->46 [style = bold, label=""];
24->35 [style = bold, label=""];
10->27 [style = bold, label=""];
8->19 [style = bold, label=""];
18->41 [style = dashed, label="0"];
37->17 [style = bold, label=""];
29->25 [style = bold, label=""];
13->30 [style = bold, label=""];
14->33 [style = bold, label=""];
48->0 [style = bold, label=""];
15->26 [style = bold, label=""];
20->10 [style = bold, label=""];
47->30 [style = bold, label=""];
24->11 [style = solid, label="newSubmissions"];
2->38 [style = bold, label=""];
15->18 [style = solid, label="lostAssignments"];
7->34 [style = bold, label=""];
15->42 [style = bold, label=""];
19->23 [style = bold, label=""];
15->26 [style = solid, label="lostAssignments"];
3->43 [style = bold, label=""];
13->47 [style = dashed, label="0"];
26->42 [style = dashed, label="0"];
45->49 [style = solid, label="veryFlakyWorker"];
39->41 [style = solid, label="memberConfigs"];
38->13 [style = bold, label=""];
23->9 [style = bold, label=""];
32->28 [style = bold, label=""];
11->35 [style = dashed, label="0"];
45->46 [style = solid, label="veryFlakyWorker"];
}
