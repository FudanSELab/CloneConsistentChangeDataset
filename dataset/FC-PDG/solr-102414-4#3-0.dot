digraph {
12 [style = filled, label = "props.put(ZkStateReader.CORE_NAME_PROP,cd.getName())@@@12@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
22 [style = filled, label = "CoreDescriptor cd@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
11 [style = filled, label = "boolean joinAtHead@@@2@@@['1', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
29 [style = filled, label = "prevContext.close()@@@8@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
3 [style = filled, label = "boolean joinAtHead@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
9 [style = filled, label = "Map<String,Object> props = new HashMap<>()@@@11@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
27 [style = filled, label = "closeExistingElectionContext['0', '0', '1']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB3BBB"];
28 [style = filled, label = "return contextKey@@@11@@@['0', '0', '1']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB3BBB"];
20 [style = filled, label = "leaderElector.setup(context)@@@18@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
13 [style = filled, label = "final String coreNodeName = cd.getCloudDescriptor().getCoreNodeName()@@@4@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
8 [style = filled, label = "leaderElector.joinElection(context,false,joinAtHead)@@@20@@@['1', '1', '0']", fillcolor = lightgray, shape = ellipse image = "AAA0AAABBB1BBB"];
2 [style = filled, label = "String shardId = cd.getCloudDescriptor().getShardId()@@@10@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
6 [style = filled, label = "ElectionContext prevContext = electionContexts.get(contextKey)@@@6@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
14 [style = filled, label = "prevContext.cancelElection()@@@8@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
7 [style = filled, label = "LeaderElector leaderElector = new LeaderElector(zkClient,contextKey,electionContexts)@@@16@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
26 [style = filled, label = "CoreDescriptor cd@@@2@@@['0', '0', '1']", fillcolor = tomato, shape = box image = "AAA0AAABBB3BBB"];
10 [style = filled, label = "joinElection['1', '0', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB1BBB"];
1 [style = filled, label = "CoreDescriptor cd@@@2@@@['1', '0', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB1BBB"];
16 [style = filled, label = "ElectionContext context = new ShardLeaderElectionContext(leaderElector,shardId,collection,coreNodeName,ourProps,this,cc)@@@17@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
17 [style = filled, label = "props.put(ZkStateReader.NODE_NAME_PROP,getNodeName())@@@13@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
0 [style = filled, label = "props.put(ZkStateReader.CORE_NODE_NAME_PROP,coreNodeName)@@@14@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
24 [style = filled, label = "joinElection['0', '1', '0']", fillcolor = lightgray, shape = diamond image = "AAA0AAABBB2BBB"];
5 [style = filled, label = "String collection = cd.getCloudDescriptor().getCollectionName()@@@3@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
23 [style = filled, label = "boolean afterExpiration@@@2@@@['0', '1', '0']", fillcolor = tomato, shape = box image = "AAA0AAABBB2BBB"];
25 [style = filled, label = "electionContexts.remove(contextKey)@@@9@@@['0', '0', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB3BBB"];
4 [style = filled, label = "props.put(ZkStateReader.BASE_URL_PROP,getBaseUrl())@@@12@@@['1', '0', '0']", fillcolor = red, shape = ellipse image = "AAA1AAABBB1BBB"];
15 [style = filled, label = "electionContexts.put(contextKey,context)@@@19@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
19 [style = filled, label = "prevContext != null@@@7@@@['1', '1', '1']", fillcolor = white, shape = diamond image = "AAA0AAABBB1BBB"];
18 [style = filled, label = "ContextKey contextKey = new ContextKey(collection,coreNodeName)@@@5@@@['1', '1', '1']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
21 [style = filled, label = "ZkNodeProps ourProps = new ZkNodeProps(props)@@@15@@@['1', '1', '0']", fillcolor = white, shape = ellipse image = "AAA0AAABBB1BBB"];
19->14 [style = dotted, label="true"];
9->21 [style = solid, label="props"];
25->28 [style = bold, label=""];
19->25 [style = dotted, label="true"];
16->8 [style = solid, label="context"];
19->29 [style = bold, label=""];
27->26 [style = dotted, label="true"];
9->4 [style = bold, label=""];
6->19 [style = solid, label="prevContext"];
16->20 [style = solid, label="context"];
11->8 [style = solid, label="joinAtHead"];
12->17 [style = bold, label=""];
2->16 [style = solid, label="shardId"];
21->16 [style = solid, label="ourProps"];
29->25 [style = bold, label=""];
10->3 [style = dotted, label="true"];
18->7 [style = solid, label="contextKey"];
0->21 [style = bold, label=""];
6->19 [style = bold, label=""];
19->2 [style = bold, label=""];
2->9 [style = bold, label=""];
18->25 [style = solid, label="contextKey"];
3->8 [style = solid, label="joinAtHead"];
24->5 [style = bold, label=""];
18->6 [style = solid, label="contextKey"];
16->15 [style = solid, label="context"];
24->11 [style = dotted, label="true"];
17->0 [style = bold, label=""];
18->28 [style = solid, label="contextKey"];
19->14 [style = bold, label=""];
10->5 [style = bold, label=""];
24->23 [style = dotted, label="true"];
19->29 [style = dotted, label="true"];
7->16 [style = solid, label="leaderElector"];
18->6 [style = bold, label=""];
10->11 [style = dotted, label="true"];
24->22 [style = dotted, label="true"];
5->13 [style = bold, label=""];
7->16 [style = bold, label=""];
5->16 [style = solid, label="collection"];
13->0 [style = solid, label="coreNodeName"];
4->12 [style = bold, label=""];
13->18 [style = solid, label="coreNodeName"];
21->7 [style = bold, label=""];
18->15 [style = solid, label="contextKey"];
14->2 [style = bold, label=""];
9->12 [style = bold, label=""];
19->28 [style = bold, label=""];
27->5 [style = bold, label=""];
10->1 [style = dotted, label="true"];
13->16 [style = solid, label="coreNodeName"];
16->20 [style = bold, label=""];
20->15 [style = bold, label=""];
14->29 [style = dashed, label="0"];
15->8 [style = bold, label=""];
13->18 [style = bold, label=""];
5->18 [style = solid, label="collection"];
}
